<?xml version="1.0" encoding="UTF-8"?>
<!--
    NPC LLM Chat - Speech-to-Text Configuration
    
    Cross-platform support:
    - Windows 11: Uses Windows Speech Recognition (built-in, no server needed)
    - Ubuntu 24:  Uses Whisper STT server (requires server running)
    
    Provider "Auto" automatically selects based on your platform.
-->
<STTConfig>
    <!-- STT Server Configuration -->
    <Server>
        <!--
            STT Provider:
            - Auto    : Windows Speech Recognition on Windows, Whisper on Linux (recommended)
            - Windows : Force Windows Speech Recognition (Windows only)
            - Whisper : Force Whisper server (requires server running)
        -->
        <Provider>Auto</Provider>

        <!-- Enable or disable STT entirely -->
        <Enabled>true</Enabled>

        <!--
            Whisper STT server endpoint (used on Linux or when Provider=Whisper)
            Start server: python whisper_server.py -port 5051 -preload
        -->
        <Endpoint>http://localhost:5051/transcribe</Endpoint>

        <!-- Request timeout in seconds -->
        <TimeoutSeconds>10</TimeoutSeconds>
    </Server>

    <!-- Audio Recording Settings -->
    <Audio>
        <!-- Sample rate (16000 Hz required for Whisper) -->
        <SampleRate>16000</SampleRate>

        <!-- Maximum recording duration in seconds -->
        <MaxRecordingSeconds>15</MaxRecordingSeconds>
    </Audio>

    <!-- Input Settings -->
    <Input>
        <!--
            Push-to-talk key (Unity KeyCode names)
            Examples: V, LeftAlt, Mouse3
        -->
        <PushToTalkKey>V</PushToTalkKey>
    </Input>

    <!-- Whisper Model Settings (used on Linux or when Provider=Whisper) -->
    <Whisper>
        <!--
            Model options: tiny.en, base.en, small.en, medium.en, large-v3
            .en models are English-only but faster and more accurate for English
        -->
        <Model>base.en</Model>
        <Language>en</Language>
    </Whisper>
</STTConfig>
